{% extends "layout/app.html" %}
{% block content %}
<main id="main">
    <section id="about" class="about">
        <div class="container" data-aos="fade-up">
            <header class="section-header">
                <p>Popular Categories</p>
            </header>
            <div class="row">
                <div class="scroller" data-speed="fast">
                    <ul class="tag-list1 scroller__inner">
                        {% for category in categories %}
                            <li style="width:300px">
                                <h2 class="btn">{{ category.name }}</h2>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <!-- End slider Section -->
    <!-- ======= Recent Course Section ======= -->
    <section id="recent-blog-posts" class="recent-blog-posts">
        <div class="container" data-aos="fade-up">
            <header class="section-header">
                <p>Course Categories</p>
            </header>
            <div class="row mx-auto my-auto">
                <div
                    id="recipeCarousel"
                    class="carousel slide w-100"
                    data-ride="carousel"
                    >
                    <div class="carousel-inner w-100" role="listbox">
                        {% for course in courses %}
                        <div class="carousel-item {% if forloop.first %}active{% endif %}">
                            <div class="col-md-4">
                                <div class="post-box">
                                    <div class="post-img">
                                        <img
                                            src="{{ course.image.url }}"
                                            class="img-fluid"
                                            alt=""
                                            />
                                    </div>
                                    <span class="post-date">Tue, September 15</span>
                                    <h3 class="post-title">
                                        {{ course.name }}
                                    </h3>
                                    <a
                                        href="{% url "course_detail" id=course.id %}"
                                        class="readmore stretched-link mt-auto"
                                        ><span>Read More</span><i class="bi bi-arrow-right"></i
                                        ></a>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <a
                        class="carousel-control-prev w-auto"
                        href="#recipeCarousel"
                        role="button"
                        data-slide="prev"
                        >
                    <span
                        class="carousel-control-prev-icon bg-dark border border-dark rounded-circle"
                        style="padding: 15px"
                        aria-hidden="true"
                        ></span>
                    <span class="sr-only">Previous</span>
                    </a>
                    <a
                        class="carousel-control-next w-auto"
                        href="#recipeCarousel"
                        role="button"
                        data-slide="next"
                        >
                    <span
                        class="carousel-control-next-icon bg-dark border border-dark rounded-circle"
                        style="padding: 15px"
                        aria-hidden="true"
                        ></span>
                    <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>
    </section>
    <!-- End Recent Blog Posts Section -->
    <!-- ======= Courses Section ======= -->
    <section id="testimonials" class="testimonials">
        <div class="container" data-aos="fade-up">
            <header class="section-header">
                <p>Courses</p>
            </header>
            {% for course in courses %}
            <div class="row">
                <div class="col-md-3 p-4" style="height: auto">
                    <img
                        src="{{ course.image.url }}"
                        class="img-fluid"
                        style="border-radius: 1rem"
                        alt=""
                        />
                </div>
                <div class="col-md-9 p-4" style="height: auto">
                    <h2 style="font-size: 30px; font-weight: 600">
                        {{course.name}}
                    </h2>
                    <p style="font-size: 18px">
                        {{ course.description }}
                    </p>
                    <div class="d-flex justify-content-between align-items-center">
                        <p style="font-size: 18px; font-weight: 900">
                            Ranjith Kumar Samala
                        </p>
                        <p style="font-size: 28px; font-weight: 900">â‚¹ {{ course.price }}</p>
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <p style="font-size: 18px; font-weight: 500">123 Chapters</p>
                        <a href="{% url "course_detail" id=course.id %}" class="btn btn-primary p-3" style="font-size: 15px; background: #f66c3b; border-color: #f66c3b;">
                        Buy Now
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
</main>
{% endblock  %}
{% block js %}
<script>
    $("#recipeCarousel").carousel({
      interval: 10000,
    });
    
    $(".carousel .carousel-item").each(function () {
      var minPerSlide = 3;
      var next = $(this).next();
      if (!next.length) {
        next = $(this).siblings(":first");
      }
      next.children(":first-child").clone().appendTo($(this));
    
      for (var i = 0; i < minPerSlide; i++) {
        next = next.next();
        if (!next.length) {
          next = $(this).siblings(":first");
        }
    
        next.children(":first-child").clone().appendTo($(this));
      }
    });
</script>
{% endblock  %}